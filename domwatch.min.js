(function(e){function t(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector;return n&&n.call(e,t)}function n(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}function i(e){function o(t){n[t]=e[t]?function(r){if(s(r))e[t](r);n.child._wd[t](r)}:function(e){n.child._wd[t](e)}}if(e._wd)return;var n={parent:undefined,child:r},i=r._wd,s=function(){return true};i.parent=e;e._wd=n;if(e.filter)s=function(n){return t(n,e.filter)};o("added");o("removed");r=e}function s(e){var t=e._wd;if(r==e){r=t.child;r._wd.parent=undefined}else{t.parent.child=t.child;t.child.parent=t.parent}e._wd=undefined}function o(e){r._wd.added(e)}function u(e){r._wd.removed(e)}var r={_wd:{added:function(){},removed:function(){}}};var a=e.MutationObserver||e.WebKitMutationObserver;if(a){(new a(function(e){n(e,function(e){n(e.addedNodes,o);n(e.removedNodes,u)})})).observe(document.body,{subtree:true,childList:true})}else{document.addEventListener("DOMNodeInserted",function(e){o(e.target)},false);document.addEventListener("DOMNodeRemoved",function(e){u(e.target)},false)}e.watchdom=i;e.unwatchdom=s})(window)
